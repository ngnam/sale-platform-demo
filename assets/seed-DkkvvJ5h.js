import{B as e,F as t,ct as n,f as r,lt as i,m as a}from"./menu-KmJeyBmp.js";import{F as o,n as s,t as c}from"./_plugin-vue_export-helper-DjLyun5i.js";import{a as l,o as u,t as d}from"./input-Dl58X2zG.js";import{t as f}from"./table-B5NlV_bM.js";import{r as p,t as m}from"./select-qwNyy2X6.js";import{B as h,o as g}from"./Col-Dn_WxAuq.js";import"./FolderOutlined-CuOYp4hi.js";import"./EyeInvisibleOutlined-DQ7XOaOB.js";import"./move-BV2dG8Yt.js";import"./checkbox-DTOnil2W.js";import{t as _}from"./page-header-oerFmpyY.js";import"./space-BwjoyeVf.js";import"./dropdown-BjYLSNDe.js";import"./breadcrumb-bZrN7p1V.js";import{n as v,t as y}from"./row-DAVpSNuc.js";import"./UpOutlined-CVKY-LmD.js";import{t as b}from"./input-number-Cc1ZCS-y.js";import"./spin-CjGf5sPd.js";import"./ArrowRightOutlined-jL2ruyWB.js";import{$t as x,At as S,Bn as C,Cn as ee,Dn as w,Dt as T,En as E,G as D,Gt as O,In as te,L as k,Nt as ne,Ot as re,Qn as A,R as j,Rn as M,Sn as ie,Tn as N,Tt as P,Un as F,Ut as I,W as L,Xn as R,Xt as ae,Y as oe,a as se,ar as z,at as B,ir as V,kn as H,kt as U,ln as ce,nt as le,on as W,pr as ue,sn as G,tn as K,u as q,wn as de,xn as J,z as fe}from"./index-DNW3ueIJ.js";import{t as pe}from"./pricingVersion-CIfy60JL.js";import{t as me}from"./productPlan-zKUpmInK.js";var Y=(e,t)=>{let{attrs:n}=t,{included:r,vertical:i,style:a,class:o}=n,{length:s,offset:c,reverse:l}=n;s<0&&(l=!l,s=Math.abs(s),c=100-c);let u=i?{[l?`top`:`bottom`]:`${c}%`,[l?`bottom`:`top`]:`auto`,height:`${s}%`}:{[l?`right`:`left`]:`${c}%`,[l?`left`:`right`]:`auto`,width:`${s}%`},d=W(W({},a),u);return r?w(`div`,{class:o,style:d},null):null};Y.inheritAttrs=!1;var X=Y,he=(e,t,n,r,i,a)=>{B(n?r>0:!0,`Slider`,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");let o=Object.keys(t).map(parseFloat).sort((e,t)=>e-t);if(n&&r)for(let e=i;e<=a;e+=r)o.indexOf(e)===-1&&o.push(e);return o},ge=(e,t)=>{let{attrs:n}=t,{prefixCls:r,vertical:i,reverse:a,marks:o,dots:s,step:c,included:l,lowerBound:u,upperBound:d,max:f,min:p,dotStyle:m,activeDotStyle:h}=n,g=f-p,_=he(i,o,s,c,p,f).map(e=>{let t=`${Math.abs(e-p)/g*100}%`,n=!l&&e===d||l&&e<=d&&e>=u,o=i?W(W({},m),{[a?`top`:`bottom`]:t}):W(W({},m),{[a?`right`:`left`]:t});n&&(o=W(W({},o),h));let s=K({[`${r}-dot`]:!0,[`${r}-dot-active`]:n,[`${r}-dot-reverse`]:a});return w(`span`,{class:s,style:o,key:e},null)});return w(`div`,{class:`${r}-step`},[_])};ge.inheritAttrs=!1;var _e=ge,ve=(e,t)=>{let{attrs:n,slots:r}=t,{class:a,vertical:o,reverse:s,marks:c,included:l,upperBound:u,lowerBound:d,max:f,min:p,onClickLabel:m}=n,h=Object.keys(c),g=r.mark,_=f-p,v=h.map(parseFloat).sort((e,t)=>e-t).map(e=>{let t=typeof c[e]==`function`?c[e]():c[e],n=typeof t==`object`&&!ae(t),r=n?t.label:t;if(!r&&r!==0)return null;g&&(r=g({point:e,label:r}));let f=!l&&e===u||l&&e<=u&&e>=d,h=K({[`${a}-text`]:!0,[`${a}-text-active`]:f}),v={marginBottom:`-50%`,[s?`top`:`bottom`]:`${(e-p)/_*100}%`},y={transform:`translateX(${s?`50%`:`-50%`})`,msTransform:`translateX(${s?`50%`:`-50%`})`,[s?`right`:`left`]:`${(e-p)/_*100}%`},b=o?v:y,x=n?W(W({},b),t.style):b;return w(`span`,G({class:h,style:x,key:e,onMousedown:t=>m(t,e)},{[i?`onTouchstartPassive`:`onTouchstart`]:t=>m(t,e)}),[r])});return w(`div`,{class:a},[v])};ve.inheritAttrs=!1;var ye=ve,be=H({compatConfig:{MODE:3},name:`Handle`,inheritAttrs:!1,props:{prefixCls:String,vertical:{type:Boolean,default:void 0},offset:Number,disabled:{type:Boolean,default:void 0},min:Number,max:Number,value:Number,tabindex:k.oneOfType([k.number,k.string]),reverse:{type:Boolean,default:void 0},ariaLabel:String,ariaLabelledBy:String,ariaValueTextFormatter:Function,onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function}},setup(e,t){let{attrs:r,emit:i,expose:a}=t,o=z(!1),s=z(),c=()=>{document.activeElement===s.value&&(o.value=!0)},l=e=>{o.value=!1,i(`blur`,e)},u=()=>{o.value=!1},d=()=>{var e;(e=s.value)==null||e.focus()},f=()=>{var e;(e=s.value)==null||e.blur()},p=()=>{o.value=!0,d()},m=e=>{e.preventDefault(),d(),i(`mousedown`,e)};a({focus:d,blur:f,clickFocus:p,ref:s});let h=null;C(()=>{h=n(document,`mouseup`,c)}),M(()=>{h?.remove()});let g=J(()=>{let{vertical:t,offset:n,reverse:r}=e;return t?{[r?`top`:`bottom`]:`${n}%`,[r?`bottom`:`top`]:`auto`,transform:r?null:`translateY(+50%)`}:{[r?`right`:`left`]:`${n}%`,[r?`left`:`right`]:`auto`,transform:`translateX(${r?`+`:`-`}50%)`}});return()=>{let{prefixCls:t,disabled:n,min:i,max:a,value:c,tabindex:d,ariaLabel:f,ariaLabelledBy:p,ariaValueTextFormatter:h,onMouseenter:_,onMouseleave:v}=e,y=K(r.class,{[`${t}-handle-click-focused`]:o.value}),b={"aria-valuemin":i,"aria-valuemax":a,"aria-valuenow":c,"aria-disabled":!!n},x=[r.style,g.value],S=d||0;(n||d===null)&&(S=null);let C;h&&(C=h(c));let ee=W(W(W(W({},r),{role:`slider`,tabindex:S}),b),{class:y,onBlur:l,onKeydown:u,onMousedown:m,onMouseenter:_,onMouseleave:v,ref:s,style:x});return w(`div`,G(G({},ee),{},{"aria-label":f,"aria-labelledby":p,"aria-valuetext":C}),null)}}});function xe(e,t){try{return Object.keys(t).some(n=>e.target===t[n].ref)}catch{return!1}}function Se(e,t){let{min:n,max:r}=t;return e<n||e>r}function Ce(e){return e.touches.length>1||e.type.toLowerCase()===`touchend`&&e.touches.length>0}function we(e,t){let{marks:n,step:r,min:i,max:a}=t,o=Object.keys(n).map(parseFloat);if(r!==null){let t=10**Te(r),n=Math.floor((a*t-i*t)/(r*t)),s=Math.min((e-i)/r,n),c=Math.round(s)*r+i;o.push(c)}let s=o.map(t=>Math.abs(e-t));return o[s.indexOf(Math.min(...s))]}function Te(e){let t=e.toString(),n=0;return t.indexOf(`.`)>=0&&(n=t.length-t.indexOf(`.`)-1),n}function Ee(e,t){let n=1;return window.visualViewport&&(n=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(e?t.clientY:t.pageX)/n}function De(e,t){let n=1;return window.visualViewport&&(n=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(e?t.touches[0].clientY:t.touches[0].pageX)/n}function Oe(e,t){let n=t.getBoundingClientRect();return e?n.top+n.height*.5:window.scrollX+n.left+n.width*.5}function ke(e,t){let{max:n,min:r}=t;return e<=r?r:e>=n?n:e}function Ae(e,t){let{step:n}=t,r=isFinite(we(e,t))?we(e,t):0;return n===null?r:parseFloat(r.toFixed(Te(n)))}function Z(e){e.stopPropagation(),e.preventDefault()}function je(e,t,n){let r={increase:(e,t)=>e+t,decrease:(e,t)=>e-t},i=r[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),a=Object.keys(n.marks)[i];return n.step?r[e](t,n.step):Object.keys(n.marks).length&&n.marks[a]?n.marks[a]:t}function Me(e,n,r){let i=`increase`,a=`decrease`,o=i;switch(e.keyCode){case t.UP:o=n&&r?a:i;break;case t.RIGHT:o=!n&&r?a:i;break;case t.DOWN:o=n&&r?i:a;break;case t.LEFT:o=!n&&r?i:a;break;case t.END:return(e,t)=>t.max;case t.HOME:return(e,t)=>t.min;case t.PAGE_UP:return(e,t)=>e+t.step*2;case t.PAGE_DOWN:return(e,t)=>e-t.step*2;default:return}return(e,t)=>je(o,e,t)}var Ne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Q(){}function Pe(t){let r={id:String,min:Number,max:Number,step:Number,marks:k.object,included:{type:Boolean,default:void 0},prefixCls:String,disabled:{type:Boolean,default:void 0},handle:Function,dots:{type:Boolean,default:void 0},vertical:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},minimumTrackStyle:k.object,maximumTrackStyle:k.object,handleStyle:k.oneOfType([k.object,k.arrayOf(k.object)]),trackStyle:k.oneOfType([k.object,k.arrayOf(k.object)]),railStyle:k.object,dotStyle:k.object,activeDotStyle:k.object,autofocus:{type:Boolean,default:void 0},draggableTrack:{type:Boolean,default:void 0}};return H({compatConfig:{MODE:3},name:`CreateSlider`,mixins:[e,t],inheritAttrs:!1,props:x(r,{prefixCls:`rc-slider`,min:0,max:100,step:1,marks:{},included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),emits:[`change`,`blur`,`focus`],data(){let{step:e,max:t,min:n}=this,r=isFinite(t-n)?(t-n)%e===0:!0;return B(e&&Math.floor(e)===e?r:!0,`Slider[max] - Slider[min] (${t-n}) should be a multiple of Slider[step] (${e})`),this.handlesRefs={},{}},mounted(){this.$nextTick(()=>{this.document=this.sliderRef&&this.sliderRef.ownerDocument;let{autofocus:e,disabled:t}=this;e&&!t&&this.focus()})},beforeUnmount(){this.$nextTick(()=>{this.removeDocumentEvents()})},methods:{defaultHandle(e){var{index:t,directives:n,className:r,style:i}=e,a=Ne(e,[`index`,`directives`,`className`,`style`]);if(delete a.dragging,a.value===null)return null;let o=W(W({},a),{class:r,style:i,key:t});return w(be,o,null)},onDown(e,t){let n=t,{draggableTrack:r,vertical:i}=this.$props,{bounds:a}=this.$data,o=r&&this.positionGetValue&&this.positionGetValue(n)||[],s=xe(e,this.handlesRefs);if(this.dragTrack=r&&a.length>=2&&!s&&!o.map((e,t)=>{let n=t?!0:e>=a[t];return t===o.length-1?e<=a[t]:n}).some(e=>!e),this.dragTrack)this.dragOffset=n,this.startBounds=[...a];else{if(!s)this.dragOffset=0;else{let t=Oe(i,e.target);this.dragOffset=n-t,n=t}this.onStart(n)}},onMouseDown(e){if(e.button!==0)return;this.removeDocumentEvents();let t=this.$props.vertical,n=Ee(t,e);this.onDown(e,n),this.addDocumentMouseEvents()},onTouchStart(e){if(Ce(e))return;let t=this.vertical,n=De(t,e);this.onDown(e,n),this.addDocumentTouchEvents(),Z(e)},onFocus(e){let{vertical:t}=this;if(xe(e,this.handlesRefs)&&!this.dragTrack){let n=Oe(t,e.target);this.dragOffset=0,this.onStart(n),Z(e),this.$emit(`focus`,e)}},onBlur(e){this.dragTrack||this.onEnd(),this.$emit(`blur`,e)},onMouseUp(){this.handlesRefs[this.prevMovedHandleIndex]&&this.handlesRefs[this.prevMovedHandleIndex].clickFocus()},onMouseMove(e){if(!this.sliderRef){this.onEnd();return}let t=Ee(this.vertical,e);this.onMove(e,t-this.dragOffset,this.dragTrack,this.startBounds)},onTouchMove(e){if(Ce(e)||!this.sliderRef){this.onEnd();return}let t=De(this.vertical,e);this.onMove(e,t-this.dragOffset,this.dragTrack,this.startBounds)},onKeyDown(e){this.sliderRef&&xe(e,this.handlesRefs)&&this.onKeyboard(e)},onClickMarkLabel(e,t){e.stopPropagation(),this.onChange({sValue:t}),this.setState({sValue:t},()=>this.onEnd(!0))},getSliderStart(){let e=this.sliderRef,{vertical:t,reverse:n}=this,r=e.getBoundingClientRect();return t?n?r.bottom:r.top:window.scrollX+(n?r.right:r.left)},getSliderLength(){let e=this.sliderRef;if(!e)return 0;let t=e.getBoundingClientRect();return this.vertical?t.height:t.width},addDocumentTouchEvents(){this.onTouchMoveListener=n(this.document,`touchmove`,this.onTouchMove),this.onTouchUpListener=n(this.document,`touchend`,this.onEnd)},addDocumentMouseEvents(){this.onMouseMoveListener=n(this.document,`mousemove`,this.onMouseMove),this.onMouseUpListener=n(this.document,`mouseup`,this.onEnd)},removeDocumentEvents(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()},focus(){var e;this.$props.disabled||(e=this.handlesRefs[0])==null||e.focus()},blur(){this.$props.disabled||Object.keys(this.handlesRefs).forEach(e=>{var t,n;(n=(t=this.handlesRefs[e])?.blur)==null||n.call(t)})},calcValue(e){let{vertical:t,min:n,max:r}=this,i=Math.abs(Math.max(e,0)/this.getSliderLength());return t?(1-i)*(r-n)+n:i*(r-n)+n},calcValueByPos(e){let t=(this.reverse?-1:1)*(e-this.getSliderStart());return this.trimAlignValue(this.calcValue(t))},calcOffset(e){let{min:t,max:n}=this,r=(e-t)/(n-t);return Math.max(0,r*100)},saveSlider(e){this.sliderRef=e},saveHandle(e,t){this.handlesRefs[e]=t}},render(){let{prefixCls:e,marks:t,dots:n,step:r,included:a,disabled:o,vertical:s,reverse:c,min:l,max:u,maximumTrackStyle:d,railStyle:f,dotStyle:p,activeDotStyle:m,id:h}=this,{class:g,style:_}=this.$attrs,{tracks:v,handles:y}=this.renderSlider(),b=K(e,g,{[`${e}-with-marks`]:Object.keys(t).length,[`${e}-disabled`]:o,[`${e}-vertical`]:s,[`${e}-horizontal`]:!s}),x={vertical:s,marks:t,included:a,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:u,min:l,reverse:c,class:`${e}-mark`,onClickLabel:o?Q:this.onClickMarkLabel},S={[i?`onTouchstartPassive`:`onTouchstart`]:o?Q:this.onTouchStart};return w(`div`,G(G({id:h,ref:this.saveSlider,tabindex:`-1`,class:b},S),{},{onMousedown:o?Q:this.onMouseDown,onMouseup:o?Q:this.onMouseUp,onKeydown:o?Q:this.onKeyDown,onFocus:o?Q:this.onFocus,onBlur:o?Q:this.onBlur,style:_}),[w(`div`,{class:`${e}-rail`,style:W(W({},d),f)},null),v,w(_e,{prefixCls:e,vertical:s,reverse:c,marks:t,dots:n,step:r,included:a,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:u,min:l,dotStyle:p,activeDotStyle:m},null),y,w(ye,x,{mark:this.$slots.mark}),I(this)])}})}var Fe=H({compatConfig:{MODE:3},name:`Slider`,mixins:[e],inheritAttrs:!1,props:{defaultValue:Number,value:Number,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},tabindex:k.oneOfType([k.number,k.string]),reverse:{type:Boolean,default:void 0},min:Number,max:Number,ariaLabelForHandle:String,ariaLabelledByForHandle:String,ariaValueTextFormatterForHandle:String,startPoint:Number},emits:[`beforeChange`,`afterChange`,`change`],data(){let e=this.defaultValue===void 0?this.min:this.defaultValue,t=this.value===void 0?e:this.value;return{sValue:this.trimAlignValue(t),dragging:!1}},watch:{value:{handler(e){this.setChangeValue(e)},deep:!0},min(){let{sValue:e}=this;this.setChangeValue(e)},max(){let{sValue:e}=this;this.setChangeValue(e)}},methods:{setChangeValue(e){let t=e===void 0?this.sValue:e,n=this.trimAlignValue(t,this.$props);n!==this.sValue&&(this.setState({sValue:n}),Se(t,this.$props)&&this.$emit(`change`,n))},onChange(e){let t=!O(this,`value`),n=e.sValue>this.max?W(W({},e),{sValue:this.max}):e;t&&this.setState(n);let r=n.sValue;this.$emit(`change`,r)},onStart(e){this.setState({dragging:!0});let{sValue:t}=this;this.$emit(`beforeChange`,t);let n=this.calcValueByPos(e);this.startValue=n,this.startPosition=e,n!==t&&(this.prevMovedHandleIndex=0,this.onChange({sValue:n}))},onEnd(e){let{dragging:t}=this;this.removeDocumentEvents(),(t||e)&&this.$emit(`afterChange`,this.sValue),this.setState({dragging:!1})},onMove(e,t){Z(e);let{sValue:n}=this,r=this.calcValueByPos(t);r!==n&&this.onChange({sValue:r})},onKeyboard(e){let{reverse:t,vertical:n}=this.$props,r=Me(e,n,t);if(r){Z(e);let{sValue:t}=this,n=r(t,this.$props),i=this.trimAlignValue(n);if(i===t)return;this.onChange({sValue:i}),this.$emit(`afterChange`,i),this.onEnd()}},getLowerBound(){let e=this.$props.startPoint||this.$props.min;return this.$data.sValue>e?e:this.$data.sValue},getUpperBound(){return this.$data.sValue<this.$props.startPoint?this.$props.startPoint:this.$data.sValue},trimAlignValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e===null)return null;let n=W(W({},this.$props),t),r=ke(e,n);return Ae(r,n)},getTrack(e){let{prefixCls:t,reverse:n,vertical:r,included:i,minimumTrackStyle:a,mergedTrackStyle:o,length:s,offset:c}=e;return w(X,{class:`${t}-track`,vertical:r,included:i,offset:c,reverse:n,length:s,style:W(W({},a),o)},null)},renderSlider(){let{prefixCls:e,vertical:t,included:n,disabled:r,minimumTrackStyle:i,trackStyle:a,handleStyle:o,tabindex:s,ariaLabelForHandle:c,ariaLabelledByForHandle:l,ariaValueTextFormatterForHandle:u,min:d,max:f,startPoint:p,reverse:m,handle:h,defaultHandle:g}=this,_=h||g,{sValue:v,dragging:y}=this,b=this.calcOffset(v),x=_({class:`${e}-handle`,prefixCls:e,vertical:t,offset:b,value:v,dragging:y,disabled:r,min:d,max:f,reverse:m,index:0,tabindex:s,ariaLabel:c,ariaLabelledBy:l,ariaValueTextFormatter:u,style:o[0]||o,ref:e=>this.saveHandle(0,e),onFocus:this.onFocus,onBlur:this.onBlur}),S=p===void 0?0:this.calcOffset(p),C=a[0]||a;return{tracks:this.getTrack({prefixCls:e,reverse:m,vertical:t,included:n,offset:S,minimumTrackStyle:i,mergedTrackStyle:C,length:b-S}),handles:x}}}}),Ie=Pe(Fe),$=e=>{let{value:t,handle:n,bounds:r,props:i}=e,{allowCross:a,pushable:o}=i,s=Number(o),c=ke(t,i),l=c;return!a&&n!=null&&r!==void 0&&(n>0&&c<=r[n-1]+s&&(l=r[n-1]+s),n<r.length-1&&c>=r[n+1]-s&&(l=r[n+1]-s)),Ae(l,i)},Le={defaultValue:k.arrayOf(k.number),value:k.arrayOf(k.number),count:Number,pushable:j(k.oneOfType([k.looseBool,k.number])),allowCross:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},tabindex:k.arrayOf(k.number),prefixCls:String,min:Number,max:Number,autofocus:{type:Boolean,default:void 0},ariaLabelGroupForHandles:Array,ariaLabelledByGroupForHandles:Array,ariaValueTextFormatterGroupForHandles:Array,draggableTrack:{type:Boolean,default:void 0}},Re=H({compatConfig:{MODE:3},name:`Range`,mixins:[e],inheritAttrs:!1,props:x(Le,{count:1,allowCross:!0,pushable:!1,tabindex:[],draggableTrack:!1,ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]}),emits:[`beforeChange`,`afterChange`,`change`],displayName:`Range`,data(){let{count:e,min:t,max:n}=this,r=Array(...Array(e+1)).map(()=>t),i=O(this,`defaultValue`)?this.defaultValue:r,{value:a}=this;a===void 0&&(a=i);let o=a.map((e,t)=>$({value:e,handle:t,props:this.$props}));return{sHandle:null,recent:o[0]===n?0:o.length-1,bounds:o}},watch:{value:{handler(e){let{bounds:t}=this;this.setChangeValue(e||t)},deep:!0},min(){let{value:e}=this;this.setChangeValue(e||this.bounds)},max(){let{value:e}=this;this.setChangeValue(e||this.bounds)}},methods:{setChangeValue(e){let{bounds:t}=this,n=e.map((e,n)=>$({value:e,handle:n,bounds:t,props:this.$props}));if(t.length===n.length){if(n.every((e,n)=>e===t[n]))return null}else n=e.map((e,t)=>$({value:e,handle:t,props:this.$props}));if(this.setState({bounds:n}),e.some(e=>Se(e,this.$props))){let t=e.map(e=>ke(e,this.$props));this.$emit(`change`,t)}},onChange(e){if(!O(this,`value`))this.setState(e);else{let t={};[`sHandle`,`recent`].forEach(n=>{e[n]!==void 0&&(t[n]=e[n])}),Object.keys(t).length&&this.setState(t)}let t=W(W({},this.$data),e).bounds;this.$emit(`change`,t)},positionGetValue(e){let t=this.getValue(),n=this.calcValueByPos(e),r=this.getClosestBound(n),i=this.getBoundNeedMoving(n,r),a=t[i];if(n===a)return null;let o=[...t];return o[i]=n,o},onStart(e){let{bounds:t}=this;this.$emit(`beforeChange`,t);let n=this.calcValueByPos(e);this.startValue=n,this.startPosition=e;let r=this.getClosestBound(n);this.prevMovedHandleIndex=this.getBoundNeedMoving(n,r),this.setState({sHandle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});let i=t[this.prevMovedHandleIndex];if(n===i)return;let a=[...t];a[this.prevMovedHandleIndex]=n,this.onChange({bounds:a})},onEnd(e){let{sHandle:t}=this;this.removeDocumentEvents(),t||(this.dragTrack=!1),(t!==null||e)&&this.$emit(`afterChange`,this.bounds),this.setState({sHandle:null})},onMove(e,t,n,r){Z(e);let{$data:i,$props:a}=this,o=a.max||100,s=a.min||0;if(n){let e=a.vertical?-t:t;e=a.reverse?-e:e;let n=o-Math.max(...r),c=s-Math.min(...r),l=Math.min(Math.max(e/(this.getSliderLength()/100),c),n),u=r.map(e=>Math.floor(Math.max(Math.min(e+l,o),s)));i.bounds.map((e,t)=>e===u[t]).some(e=>!e)&&this.onChange({bounds:u});return}let{bounds:c,sHandle:l}=this,u=this.calcValueByPos(t),d=c[l];u!==d&&this.moveTo(u)},onKeyboard(e){let{reverse:t,vertical:n}=this.$props,r=Me(e,n,t);if(r){Z(e);let{bounds:t,sHandle:n}=this,i=t[n===null?this.recent:n],a=r(i,this.$props),o=$({value:a,handle:n,bounds:t,props:this.$props});if(o===i)return;this.moveTo(o,!0)}},getClosestBound(e){let{bounds:t}=this,n=0;for(let r=1;r<t.length-1;r+=1)e>=t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n},getBoundNeedMoving(e,t){let{bounds:n,recent:r}=this,i=t,a=n[t+1]===n[t];return a&&n[r]===n[t]&&(i=r),a&&e!==n[t+1]&&(i=e<n[t+1]?t:t+1),i},getLowerBound(){return this.bounds[0]},getUpperBound(){let{bounds:e}=this;return e[e.length-1]},getPoints(){let{marks:e,step:t,min:n,max:r}=this,i=this.internalPointsCache;if(!i||i.marks!==e||i.step!==t){let i=W({},e);if(t!==null)for(let e=n;e<=r;e+=t)i[e]=e;let a=Object.keys(i).map(parseFloat);a.sort((e,t)=>e-t),this.internalPointsCache={marks:e,step:t,points:a}}return this.internalPointsCache.points},moveTo(e,t){let n=[...this.bounds],{sHandle:r,recent:i}=this,a=r===null?i:r;n[a]=e;let o=a;this.$props.pushable===!1?this.$props.allowCross&&(n.sort((e,t)=>e-t),o=n.indexOf(e)):this.pushSurroundingHandles(n,o),this.onChange({recent:o,sHandle:o,bounds:n}),t&&(this.$emit(`afterChange`,n),this.setState({},()=>{this.handlesRefs[o].focus()}),this.onEnd())},pushSurroundingHandles(e,t){let n=e[t],{pushable:r}=this,i=Number(r),a=0;if(e[t+1]-n<i&&(a=1),n-e[t-1]<i&&(a=-1),a===0)return;let o=t+a,s=a*(e[o]-n);this.pushHandle(e,o,a,i-s)||(e[t]=e[o]-a*i)},pushHandle(e,t,n,r){let i=e[t],a=e[t];for(;n*(a-i)<r;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=i,!1;a=e[t]}return!0},pushHandleOnePoint(e,t,n){let r=this.getPoints(),i=r.indexOf(e[t])+n;if(i>=r.length||i<0)return!1;let a=t+n,o=r[i],{pushable:s}=this,c=Number(s),l=n*(e[a]-o);return this.pushHandle(e,a,n,c-l)?(e[t]=o,!0):!1},trimAlignValue(e){let{sHandle:t,bounds:n}=this;return $({value:e,handle:t,bounds:n,props:this.$props})},ensureValueNotConflict(e,t,n){let{allowCross:r,pushable:i}=n,a=this.$data||{},{bounds:o}=a;if(e=e===void 0?a.sHandle:e,i=Number(i),!r&&e!=null&&o!==void 0){if(e>0&&t<=o[e-1]+i)return o[e-1]+i;if(e<o.length-1&&t>=o[e+1]-i)return o[e+1]-i}return t},getTrack(e){let{bounds:t,prefixCls:n,reverse:r,vertical:i,included:a,offsets:o,trackStyle:s}=e;return t.slice(0,-1).map((e,t)=>{let c=t+1,l=K({[`${n}-track`]:!0,[`${n}-track-${c}`]:!0});return w(X,{class:l,vertical:i,reverse:r,included:a,offset:o[c-1],length:o[c]-o[c-1],style:s[t],key:c},null)})},renderSlider(){let{sHandle:e,bounds:t,prefixCls:n,vertical:r,included:i,disabled:a,min:o,max:s,reverse:c,handle:l,defaultHandle:u,trackStyle:d,handleStyle:f,tabindex:p,ariaLabelGroupForHandles:m,ariaLabelledByGroupForHandles:h,ariaValueTextFormatterGroupForHandles:g}=this,_=l||u,v=t.map(e=>this.calcOffset(e)),y=`${n}-handle`,b=t.map((t,i)=>{let l=p[i]||0;(a||p[i]===null)&&(l=null);let u=e===i;return _({class:K({[y]:!0,[`${y}-${i+1}`]:!0,[`${y}-dragging`]:u}),prefixCls:n,vertical:r,dragging:u,offset:v[i],value:t,index:i,tabindex:l,min:o,max:s,reverse:c,disabled:a,style:f[i],ref:e=>this.saveHandle(i,e),onFocus:this.onFocus,onBlur:this.onBlur,ariaLabel:m[i],ariaLabelledBy:h[i],ariaValueTextFormatter:g[i]})});return{tracks:this.getTrack({bounds:t,prefixCls:n,reverse:c,vertical:r,included:i,offsets:v,trackStyle:d}),handles:b}}}}),ze=Pe(Re),Be=H({compatConfig:{MODE:3},name:`SliderTooltip`,inheritAttrs:!1,props:a(),setup(e,t){let{attrs:n,slots:i}=t,a=V(null),s=V(null);function c(){o.cancel(s.value),s.value=null}function l(){s.value=o(()=>{var e;(e=a.value)==null||e.forcePopupAlign(),s.value=null})}let u=()=>{c(),e.open&&l()};return R([()=>e.open,()=>e.title],()=>{u()},{flush:`post`,immediate:!0}),te(()=>{u()}),M(()=>{c()}),()=>w(r,G(G({ref:a},e),n),i)}}),Ve=e=>{let{componentCls:t,controlSize:n,dotSize:r,marginFull:i,marginPart:a,colorFillContentHover:o}=e;return{[t]:W(W({},oe(e)),{position:`relative`,height:n,margin:`${a}px ${i}px`,padding:0,cursor:`pointer`,touchAction:`none`,"&-vertical":{margin:`${i}px ${a}px`},[`${t}-rail`]:{position:`absolute`,backgroundColor:e.colorFillTertiary,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},[`${t}-track`]:{position:`absolute`,backgroundColor:e.colorPrimaryBorder,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},"&:hover":{[`${t}-rail`]:{backgroundColor:e.colorFillSecondary},[`${t}-track`]:{backgroundColor:e.colorPrimaryBorderHover},[`${t}-dot`]:{borderColor:o},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${e.handleLineWidth}px ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.colorPrimary}},[`${t}-handle`]:{position:`absolute`,width:e.handleSize,height:e.handleSize,outline:`none`,[`${t}-dragging`]:{zIndex:1},"&::before":{content:`""`,position:`absolute`,insetInlineStart:-e.handleLineWidth,insetBlockStart:-e.handleLineWidth,width:e.handleSize+e.handleLineWidth*2,height:e.handleSize+e.handleLineWidth*2,backgroundColor:`transparent`},"&::after":{content:`""`,position:`absolute`,insetBlockStart:0,insetInlineStart:0,width:e.handleSize,height:e.handleSize,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${e.handleLineWidth}px ${e.colorPrimaryBorder}`,borderRadius:`50%`,cursor:`pointer`,transition:`
            inset-inline-start ${e.motionDurationMid},
            inset-block-start ${e.motionDurationMid},
            width ${e.motionDurationMid},
            height ${e.motionDurationMid},
            box-shadow ${e.motionDurationMid}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:-((e.handleSizeHover-e.handleSize)/2+e.handleLineWidthHover),insetBlockStart:-((e.handleSizeHover-e.handleSize)/2+e.handleLineWidthHover),width:e.handleSizeHover+e.handleLineWidthHover*2,height:e.handleSizeHover+e.handleLineWidthHover*2},"&::after":{boxShadow:`0 0 0 ${e.handleLineWidthHover}px ${e.colorPrimary}`,width:e.handleSizeHover,height:e.handleSizeHover,insetInlineStart:(e.handleSize-e.handleSizeHover)/2,insetBlockStart:(e.handleSize-e.handleSizeHover)/2}}},[`${t}-mark`]:{position:`absolute`,fontSize:e.fontSize},[`${t}-mark-text`]:{position:`absolute`,display:`inline-block`,color:e.colorTextDescription,textAlign:`center`,wordBreak:`keep-all`,cursor:`pointer`,userSelect:`none`,"&-active":{color:e.colorText}},[`${t}-step`]:{position:`absolute`,background:`transparent`,pointerEvents:`none`},[`${t}-dot`]:{position:`absolute`,width:r,height:r,backgroundColor:e.colorBgElevated,border:`${e.handleLineWidth}px solid ${e.colorBorderSecondary}`,borderRadius:`50%`,cursor:`pointer`,transition:`border-color ${e.motionDurationSlow}`,"&-active":{borderColor:e.colorPrimaryBorder}},[`&${t}-disabled`]:{cursor:`not-allowed`,[`${t}-rail`]:{backgroundColor:`${e.colorFillSecondary} !important`},[`${t}-track`]:{backgroundColor:`${e.colorTextDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.colorTextDisabled,boxShadow:`none`,cursor:`not-allowed`},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:`not-allowed`,width:e.handleSize,height:e.handleSize,boxShadow:`0 0 0 ${e.handleLineWidth}px ${new le(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString()}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:`not-allowed !important`}}})}},He=(e,t)=>{let{componentCls:n,railSize:r,handleSize:i,dotSize:a}=e,o=t?`paddingBlock`:`paddingInline`,s=t?`width`:`height`,c=t?`height`:`width`,l=t?`insetBlockStart`:`insetInlineStart`,u=t?`top`:`insetInlineStart`;return{[o]:r,[c]:r*3,[`${n}-rail`]:{[s]:`100%`,[c]:r},[`${n}-track`]:{[c]:r},[`${n}-handle`]:{[l]:(r*3-i)/2},[`${n}-mark`]:{insetInlineStart:0,top:0,[u]:i,[s]:`100%`},[`${n}-step`]:{insetInlineStart:0,top:0,[u]:r,[s]:`100%`,[c]:r},[`${n}-dot`]:{position:`absolute`,[l]:(r-a)/2}}},Ue=e=>{let{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:W(W({},He(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},We=e=>{let{componentCls:t}=e;return{[`${t}-vertical`]:W(W({},He(e,!1)),{height:`100%`})}},Ge=D(`Slider`,e=>{let t=L(e,{marginPart:(e.controlHeight-e.controlSize)/2,marginFull:e.controlSize/2,marginPartWithMark:e.controlHeightLG-e.controlSize});return[Ve(t),Ue(t),We(t)]},e=>{let t=e.controlHeightLG/4,n=e.controlHeightSM/2,r=e.lineWidth+1,i=e.lineWidth+3;return{controlSize:t,railSize:4,handleSize:t,handleSizeHover:n,dotSize:8,handleLineWidth:r,handleLineWidthHover:i}}),Ke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},qe=e=>typeof e==`number`?e.toString():``,Je=H({compatConfig:{MODE:3},name:`ASlider`,inheritAttrs:!1,props:(()=>({id:String,prefixCls:String,tooltipPrefixCls:String,range:U([Boolean,Object]),reverse:P(),min:Number,max:Number,step:U([Object,Number]),marks:re(),dots:P(),value:U([Array,Number]),defaultValue:U([Array,Number]),included:P(),disabled:P(),vertical:P(),tipFormatter:U([Function,Object],()=>qe),tooltipOpen:P(),tooltipVisible:P(),tooltipPlacement:S(),getTooltipPopupContainer:T(),autofocus:P(),handleStyle:U([Array,Object]),trackStyle:U([Array,Object]),onChange:T(),onAfterChange:T(),onFocus:T(),onBlur:T(),"onUpdate:value":T()}))(),slots:Object,setup(e,t){let{attrs:n,slots:r,emit:i,expose:a}=t,{prefixCls:o,rootPrefixCls:s,direction:c,getPopupContainer:l,configProvider:u}=fe(`slider`,e),[d,f]=Ge(o),p=h(),m=V(),g=V({}),_=(e,t)=>{g.value[e]=t},v=J(()=>e.tooltipPlacement?e.tooltipPlacement:e.vertical?c.value===`rtl`?`left`:`right`:`top`),y=()=>{var e;(e=m.value)==null||e.focus()},b=()=>{var e;(e=m.value)==null||e.blur()},x=e=>{i(`update:value`,e),i(`change`,e),p.onFieldChange()},S=e=>{i(`blur`,e)};a({focus:y,blur:b});let C=t=>{var{tooltipPrefixCls:n}=t,r=t.info,{value:i,dragging:a,index:c}=r,u=Ke(r,[`value`,`dragging`,`index`]);let{tipFormatter:d,tooltipOpen:f=e.tooltipVisible,getTooltipPopupContainer:p}=e,m=d?g.value[c]||a:!1,h=f||f===void 0&&m;return w(Be,{prefixCls:n,title:d?d(i):``,open:h,placement:v.value,transitionName:`${s.value}-zoom-down`,key:c,overlayClassName:`${o.value}-tooltip`,getPopupContainer:p||l?.value},{default:()=>[w(be,G(G({},u),{},{value:i,onMouseenter:()=>_(c,!0),onMouseleave:()=>_(c,!1)}),null)]})};return()=>{let{tooltipPrefixCls:t,range:i,id:a=p.id.value}=e,s=Ke(e,[`tooltipPrefixCls`,`range`,`id`]),l=u.getPrefixCls(`tooltip`,t),h=K(n.class,{[`${o.value}-rtl`]:c.value===`rtl`},f.value);c.value===`rtl`&&!s.vertical&&(s.reverse=!s.reverse);let g;return typeof i==`object`&&(g=i.draggableTrack),d(i?w(ze,G(G(G({},n),s),{},{step:s.step,draggableTrack:g,class:h,ref:m,handle:e=>C({tooltipPrefixCls:l,prefixCls:o.value,info:e}),prefixCls:o.value,onChange:x,onBlur:S}),{mark:r.mark}):w(Ie,G(G(G({},n),s),{},{id:a,step:s.step,class:h,ref:m,handle:e=>C({tooltipPrefixCls:l,prefixCls:o.value,info:e}),prefixCls:o.value,onChange:x,onBlur:S}),{mark:r.mark}))}}}),Ye=ne(Je),Xe={seed:`/TermRates/seed`,seedBulk:`/TermRates/seed/bulk`};const Ze={seed:async e=>se(Xe.seedBulk,e)};var Qe={class:`term-rate-seed-page`},$e={style:{display:`flex`,gap:`12px`,"align-items":`center`,"margin-top":`12px`}},et={style:{overflow:`auto`,border:`1px solid #f0f0f0`,padding:`8px`,"border-radius":`4px`}},tt={key:0},nt={key:1,style:{display:`flex`,"justify-content":`flex-end`,gap:`8px`,"align-items":`center`}},rt={key:0},it={key:1,class:`text-muted`},at=`12, 24, 36, 48, 60, 72, 84, 96, 108, 120`,ot=`3, 6, 9, 12, 18, 24, 36, 48, 60, 72, 84, 96, 108, 120`,st=c(H({__name:`index`,setup(e){let t=ce();function n(){t.back()}let r=V([]),i=V([]),a=V(!1),o=V(!1),c=V(!1),h=V(),x=V({pricingVersion:``,planId:``,ageRange:[20,30],termMonthsCsv:at,mode:``,sex:``,smoker:``,formula:`demo`,fixedRate:30}),S=[12,24,36,48,60,72,84,96,108,120],T=[3,6,9,12,18,24,36,48,60,72,84,96,108,120],D=J(()=>x.value?.ageRange?.[0]??20),O=J(()=>x.value?.ageRange?.[1]??30),te=J(()=>{let e=Number(D.value??20),t=Number(O.value??30),n=Math.max(0,Math.min(e,t)),r=Math.max(0,Math.max(e,t));return Array.from({length:r-n+1},(e,t)=>n+t)}),k=J(()=>{let e=[{title:`Age`,dataIndex:`age`,key:`age`,fixed:`left`,width:80}];return S.forEach(t=>e.push({title:`${t}m (M)`,dataIndex:`M_${t}`,key:`M_${t}`,width:110})),T.forEach(t=>e.push({title:`${t}m (O)`,dataIndex:`O_${t}`,key:`O_${t}`,width:110})),e}),ne=J(()=>10340),re=J(()=>{let e=te.value.map(e=>{let t={};return S.forEach(e=>t[`M_${e}`]=null),T.forEach(e=>t[`O_${e}`]=null),{age:e,values:t}});return(R.value??[]).forEach(t=>{let n=t.mode===`ONE_TIME`?`O_${t.termMonths}`:`M_${t.termMonths}`,r=e.find(e=>e.age===t.age);r&&n in r.values&&(r.values[n]=t)}),e});async function j(e=!0){if(!(!x.value.planId||x.value.planId===``)&&e){a.value=!0;try{let e=await pe.getAll(x.value.planId),t=e.data??e??[];r.value=((Array.isArray(t)?t:t.items??t.Items??[])??[]).map(e=>({label:e.pricingVersionId??e.name??e.title??e.id,value:e.pricingVersionId??e.id}))}catch(e){console.error(e),q.error(`Load pricing versions failed`)}finally{a.value=!1}}}async function M(e=!0){if(e){o.value=!0;try{let e=await me.getAll({page:1,pageSize:500}),t=e.data??e??[];i.value=((Array.isArray(t)?t:t.items??t.Items??[])??[]).map(e=>({label:e.planId??e.planCode??e.name,value:e.planId??e.id}))}catch(e){console.error(e),q.error(`Load plans failed`)}finally{o.value=!1}}}function P(e=``){return Array.from(new Set(e.split(`,`).map(e=>Number(e.trim())).filter(e=>Number.isFinite(e)&&e>0))).sort((e,t)=>e-t)}function I(){let e=Number(x.value.ageRange?.[0]??0),t=Number(x.value.ageRange?.[1]??0);return{from:Math.max(0,Math.min(e,t)),to:Math.max(0,Math.max(e,t))}}function L(){let e=[],t=x.value.pricingVersion,n=x.value.planId;if(!t||!n)return e;let r=P(x.value.termMonthsCsv);if(!r.length)return e;let{from:i,to:a}=I(),o=x.value.sex===``?[`M`,`F`]:[x.value.sex],s=x.value.smoker===``?[!1,!0]:[x.value.smoker===!0||x.value.smoker===`true`],c=x.value.mode===``?[`MONTHLY`,`ONE_TIME`]:[x.value.mode];for(let l=i;l<=a;l++)for(let i of r)for(let r of o)for(let a of s)for(let o of c){let s=o===`ONE_TIME`,c=0,u=1;if(x.value.formula===`fixed`)c=Number(x.value.fixedRate??0),u=1;else{let e=i/12;if(r===`M`){let t=30+(l-20)*.5,n=s?1.2:1,r=1+Math.max(0,e-1)*.02;c=Math.round(t*r*n*100)/100,u=Math.round((1+Math.max(0,e-1)*.02)*100)/100}else{let t=28+(l-20)*.45,n=s?1.15:1,r=1+Math.max(0,e-1)*.018;c=Math.round(t*r*n*100)/100,u=Math.round((1+Math.max(0,e-1)*.018)*100)/100}}if(e.push({pricingVersionId:t,planId:n,age:l,sex:r,smoker:a,termMonths:i,mode:o,isOneTime:s,ratePer1000:c,termYearsFactor:u}),e.length>=2e3)return e}return e}let R=V([]);function ae(){R.value=L(),R.value.length?q.success(`Preview ${R.value.length} rows generated`):q.warn(`No rows generated: choose PricingVersion and Plan and term months`)}function oe(){R.value=[]}function se(e){return`${e.pricingVersionId}::${e.planId}::${e.age}::${e.sex}::${e.smoker}::${e.termMonths}::${e.mode}`}let z=[{title:`PV`,dataIndex:`pricingVersionId`,key:`pricingVersionId`},{title:`Plan`,dataIndex:`planId`,key:`planId`},{title:`Age`,dataIndex:`age`,key:`age`},{title:`Sex`,dataIndex:`sex`,key:`sex`},{title:`Smoker`,dataIndex:`smoker`,key:`smoker`},{title:`TermMonths`,dataIndex:`termMonths`,key:`termMonths`},{title:`Mode`,dataIndex:`mode`,key:`mode`},{title:`Rate/1000`,dataIndex:`ratePer1000`,key:`ratePer1000`,customRender:({text:e})=>(Number(e)/1e3).toFixed(5)}],B=V(200),H=V(3),U=V(3),le=V(500),W=V({attempted:0,created:0,skipped:0,failed:0,currentBatch:0,totalBatches:0}),G=V(null),K=V(!1);function fe(e,t){let n=[];for(let r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}async function Y(e,t,n,r){let i=0;for(;;){if(r?.aborted)throw Error(`aborted`);i++;try{let t=await Ze.seed(e),n=t.data??t??{},r=typeof n.created==`number`?n.created:e.length,i=typeof n.skipped==`number`?n.skipped:0,a=typeof n.failed==`number`?n.failed:0;return{attempted:e.length,created:r,skipped:i,failed:a}}catch{if(i>n.maxRetries)return{attempted:e.length,created:0,skipped:0,failed:e.length};let t=n.baseDelayMs*2**(i-1);await new Promise(e=>setTimeout(e,t))}}}async function X(e,t,n,r){let i=fe(e,t.batchSize);W.value.attempted=0,W.value.created=0,W.value.skipped=0,W.value.failed=0,W.value.totalBatches=i.length,W.value.currentBatch=0;let a=i.map((e,t)=>({batch:e,idx:t})),o=0,s=[],c=Math.min(t.concurrency,a.length);for(let e=0;e<c;e++){let e=(async()=>{for(;;){if(r?.aborted)throw Error(`aborted`);let e=o++;if(e>=a.length)break;let i=a[e];W.value.currentBatch=e+1,n?.(W.value);let s=await Y(i?.batch,e,{maxRetries:t.maxRetries,baseDelayMs:t.baseDelayMs},r);W.value.attempted+=s.attempted,W.value.created+=s.created,W.value.skipped+=s.skipped,W.value.failed+=s.failed,n?.(W.value)}})();s.push(e)}return await Promise.all(s),W.value.currentBatch=W.value.totalBatches,n?.(W.value),{...W.value}}async function he(){let e=L();if(!e.length){q.warn(`No rows to seed`);return}let t=e.map(e=>({pricingVersionId:e.pricingVersionId,planId:e.planId,age:e.age,sex:e.sex,smoker:e.smoker,termMonths:e.termMonths,mode:e.mode,isOneTime:e.isOneTime,ratePer1000:e.ratePer1000,termYearsFactor:e.termYearsFactor}));G.value=new AbortController;let n=G.value.signal;K.value=!0,c.value=!0,W.value={attempted:0,created:0,skipped:0,failed:0,currentBatch:0,totalBatches:0};try{let e=await X(t,{batchSize:B.value,concurrency:H.value,maxRetries:U.value,baseDelayMs:le.value},e=>{console.info(`seed progress`,e)},n);q.success(`Seeding finished. Attempted ${e.attempted}, created ${e.created}, skipped ${e.skipped}, failed ${e.failed}`),R.value=[]}catch(e){String(e)===`Error: aborted`||e?.name===`AbortError`?q.warning(`Seeding cancelled`):(console.error(e),q.error(`Seeding failed`))}finally{K.value=!1,c.value=!1,G.value=null}}function ge(){G.value&&G.value.abort()}return C(async()=>{j(),M()}),(e,t)=>{let S=_,C=p,T=u,D=v,O=y,te=Ye,P=b,I=d,L=m,B=s,V=l,H=g,U=f;return F(),N(`div`,Qe,[w(S,{title:`Seed Term Rates`,onBack:n}),w(H,{class:`mb16`},{default:A(()=>[w(V,{ref_key:`formRef`,ref:h,model:x.value,layout:`vertical`},{default:A(()=>[w(O,{gutter:12},{default:A(()=>[w(D,{span:12},{default:A(()=>[w(T,{label:`Pricing Version`},{default:A(()=>[w(C,{value:x.value.pricingVersion,"onUpdate:value":t[0]||=e=>x.value.pricingVersion=e,options:r.value,loading:a.value,"show-search":``,allowClear:``,onDropdownVisibleChange:j},null,8,[`value`,`options`,`loading`])]),_:1})]),_:1}),w(D,{span:12},{default:A(()=>[w(T,{label:`Plan`},{default:A(()=>[w(C,{value:x.value.planId,"onUpdate:value":t[1]||=e=>x.value.planId=e,options:i.value,loading:o.value,"show-search":``,allowClear:``,onDropdownVisibleChange:M},null,8,[`value`,`options`,`loading`])]),_:1})]),_:1})]),_:1}),w(O,{gutter:12},{default:A(()=>[w(D,{span:16},{default:A(()=>[w(T,{label:`Age Range`},{default:A(()=>[w(te,{range:``,value:x.value.ageRange,"onUpdate:value":t[2]||=e=>x.value.ageRange=e,min:0,max:100},null,8,[`value`])]),_:1})]),_:1}),w(D,{span:4},{default:A(()=>[w(P,{value:x.value.ageRange[0],"onUpdate:value":t[3]||=e=>x.value.ageRange[0]=e,min:0,max:x.value.ageRange[1],style:{width:`100%`}},null,8,[`value`,`max`])]),_:1}),w(D,{span:4},{default:A(()=>[w(P,{value:x.value.ageRange[1],"onUpdate:value":t[4]||=e=>x.value.ageRange[1]=e,min:x.value.ageRange[0],max:100,style:{width:`100%`}},null,8,[`value`,`min`])]),_:1})]),_:1}),w(O,{gutter:12},{default:A(()=>[w(D,{span:8},{default:A(()=>[w(T,{label:`Term Months CSV`},{default:A(()=>[w(I,{value:x.value.termMonthsCsv,"onUpdate:value":t[5]||=e=>x.value.termMonthsCsv=e,placeholder:`e.g. 12,24,36`},null,8,[`value`])]),_:1})]),_:1}),w(D,{span:8},{default:A(()=>[w(T,{label:`Mode`},{default:A(()=>[w(C,{value:x.value.mode,"onUpdate:value":t[6]||=e=>x.value.mode=e,allowClear:``,onChange:t[7]||=e=>{e===`ONE_TIME`&&x.value.termMonthsCsv!==ot?x.value.termMonthsCsv=ot:e===`MONTHLY`&&x.value.termMonthsCsv!==at&&(x.value.termMonthsCsv=at)}},{default:A(()=>[w(L,{value:``},{default:A(()=>[...t[12]||=[E(`Both`,-1)]]),_:1}),w(L,{value:`MONTHLY`},{default:A(()=>[...t[13]||=[E(`MONTHLY`,-1)]]),_:1}),w(L,{value:`ONE_TIME`},{default:A(()=>[...t[14]||=[E(`ONE_TIME`,-1)]]),_:1})]),_:1},8,[`value`])]),_:1})]),_:1}),w(D,{span:8},{default:A(()=>[w(T,{label:`Sex`},{default:A(()=>[w(C,{value:x.value.sex,"onUpdate:value":t[8]||=e=>x.value.sex=e,allowClear:``},{default:A(()=>[w(L,{value:``},{default:A(()=>[...t[15]||=[E(`Both`,-1)]]),_:1}),w(L,{value:`M`},{default:A(()=>[...t[16]||=[E(`M`,-1)]]),_:1}),w(L,{value:`F`},{default:A(()=>[...t[17]||=[E(`F`,-1)]]),_:1})]),_:1},8,[`value`])]),_:1})]),_:1})]),_:1}),w(O,{gutter:12},{default:A(()=>[w(D,{span:8},{default:A(()=>[w(T,{label:`Smoker`},{default:A(()=>[w(C,{value:x.value.smoker,"onUpdate:value":t[9]||=e=>x.value.smoker=e,allowClear:``},{default:A(()=>[w(L,{value:!0},{default:A(()=>[...t[18]||=[E(`Smoker`,-1)]]),_:1}),w(L,{value:!1},{default:A(()=>[...t[19]||=[E(`Non-Smoker`,-1)]]),_:1})]),_:1},8,[`value`])]),_:1})]),_:1}),w(D,{span:8},{default:A(()=>[w(T,{label:`Formula`},{default:A(()=>[w(C,{value:x.value.formula,"onUpdate:value":t[10]||=e=>x.value.formula=e},{default:A(()=>[w(L,{value:`demo`},{default:A(()=>[...t[20]||=[E(`Demo`,-1)]]),_:1}),w(L,{value:`fixed`},{default:A(()=>[...t[21]||=[E(`Fixed`,-1)]]),_:1})]),_:1},8,[`value`])]),_:1})]),_:1}),x.value.formula===`fixed`?(F(),ee(D,{key:0,span:8},{default:A(()=>[w(T,{label:`Fixed Rate /1000`},{default:A(()=>[w(P,{value:x.value.fixedRate,"onUpdate:value":t[11]||=e=>x.value.fixedRate=e,style:{width:`100%`},step:.01},null,8,[`value`])]),_:1})]),_:1})):de(``,!0)]),_:1}),ie(`div`,$e,[w(B,{type:`primary`,onClick:ae},{default:A(()=>[...t[22]||=[E(`Generate Preview`,-1)]]),_:1}),w(B,{type:`default`,loading:c.value,onClick:he},{default:A(()=>[...t[23]||=[E(`Seed All`,-1)]]),_:1},8,[`loading`]),w(B,{onClick:oe},{default:A(()=>[...t[24]||=[E(`Clear`,-1)]]),_:1}),w(B,{onClick:ge},{default:A(()=>[...t[25]||=[E(`Cancel Seed`,-1)]]),_:1})])]),_:1},8,[`model`])]),_:1}),w(H,{title:`Preview (first 200 rows)`},{default:A(()=>[w(U,{columns:z,dataSource:R.value.slice(0,200),rowKey:e=>se(e),scroll:{x:1400,y:500},pagination:!1},null,8,[`dataSource`,`rowKey`])]),_:1}),w(H,{title:`Preview Grid (ages rows x term-month columns)`,style:{"margin-top":`16px`}},{default:A(()=>[ie(`div`,et,[w(U,{columns:k.value,dataSource:re.value,rowKey:e=>`age-${e.age}`,pagination:!1,loading:!1,bordered:``,scroll:{x:ne.value,y:500},size:`small`},{bodyCell:A(({column:e,record:t})=>[e.key===`age`?(F(),N(`strong`,tt,ue(t.age),1)):(F(),N(`div`,nt,[t.values[e.key]==null?(F(),N(`span`,it,`-`)):(F(),N(`span`,rt,ue(t.values[e.key].ratePer1000),1))]))]),_:1},8,[`columns`,`dataSource`,`rowKey`,`scroll`])])]),_:1})])}}}),[[`__scopeId`,`data-v-e3f1ac8a`]]);export{st as default};