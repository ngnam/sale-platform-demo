import"./EyeInvisibleOutlined-vBZdbnb5.js";import{n as e,t}from"./_plugin-vue_export-helper-CCMMWqEJ.js";import{a as n,n as r,o as i,t as a}from"./input-CE70cYGf.js";import{o}from"./Col-B88sKFw0.js";import{Dn as s,En as c,Tn as l,Vn as u,Xn as d,cn as f,nr as p,pn as m,sn as h,t as g,tr as _,wn as v,xn as y}from"./index-DYE8AE99.js";var b=s({setup(){let e=_({username:``,password:``}),t=p(null),n=p(!1),r=g(),i=f(),a=h(),o={username:[{required:!0,message:`Please enter your username`,trigger:`blur`}],password:[{required:!0,message:`Please enter your password`,trigger:`blur`}]};async function s(e){n.value=!0;try{await r.login(e);let t=a.query.redirect||`/`;i.push(t)}catch(e){console.error(`Login error:`,e)}finally{n.value=!1}}async function c(){if(!t.value){await s(e);return}try{await t.value.validate(),await s({...e})}catch{}}return{form:e,formRef:t,rules:o,onFinish:s,loading:n,submit:c}}}),x={class:`login-page`},S={class:`login-wrapper`};function C(t,s,f,p,h,g){let _=a,b=i,C=r,w=e,T=n,E=o;return u(),v(`div`,x,[s[3]||=y(`div`,{class:`login-bg`,"aria-hidden":`true`},null,-1),y(`div`,S,[c(E,{class:`login-card`,title:`Sign in`},{default:d(()=>[c(T,{model:t.form,rules:t.rules,ref:`formRef`,onFinish:t.onFinish,layout:`vertical`},{default:d(()=>[c(b,{name:`username`,label:`Username`},{default:d(()=>[c(_,{value:t.form.username,"onUpdate:value":s[0]||=e=>t.form.username=e,placeholder:`Please enter username`,onKeyup:m(t.submit,[`enter`])},null,8,[`value`,`onKeyup`])]),_:1}),c(b,{name:`password`,label:`Password`},{default:d(()=>[c(C,{value:t.form.password,"onUpdate:value":s[1]||=e=>t.form.password=e,placeholder:`Please enter password`,onKeyup:m(t.submit,[`enter`])},null,8,[`value`,`onKeyup`])]),_:1}),c(b,null,{default:d(()=>[c(w,{type:`primary`,block:``,loading:t.loading,onClick:t.submit},{default:d(()=>[...s[2]||=[l(` Login `,-1)]]),_:1},8,[`loading`,`onClick`])]),_:1})]),_:1},8,[`model`,`rules`,`onFinish`])]),_:1})])])}var w=t(b,[[`render`,C],[`__scopeId`,`data-v-59ede451`]]);export{w as default};