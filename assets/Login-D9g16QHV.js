import"./menu-KmJeyBmp.js";import{n as e,t}from"./_plugin-vue_export-helper-DjLyun5i.js";import{a as n,n as r,o as i,t as a}from"./input-Dl58X2zG.js";import{o}from"./Col-Dn_WxAuq.js";import"./EyeInvisibleOutlined-DQ7XOaOB.js";import{Dn as s,En as c,Qn as l,Sn as u,Tn as d,Un as f,cn as p,ir as m,kn as h,ln as g,mn as _,n as v,rr as y}from"./index-DNW3ueIJ.js";var b=h({setup(){let e=y({username:``,password:``}),t=m(null),n=m(!1),r=v(),i=g(),a=p(),o={username:[{required:!0,message:`Please enter your username`,trigger:`blur`}],password:[{required:!0,message:`Please enter your password`,trigger:`blur`}]};async function s(e){n.value=!0;try{await r.login(e);let t=a.query.redirect||`/`;i.push(t)}catch(e){console.error(`Login error:`,e)}finally{n.value=!1}}async function c(){if(!t.value){await s(e);return}try{await t.value.validate(),await s({...e})}catch{}}return{form:e,formRef:t,rules:o,onFinish:s,loading:n,submit:c}}}),x={class:`login-page`},S={class:`login-wrapper`};function C(t,p,m,h,g,v){let y=a,b=i,C=r,w=e,T=n,E=o;return f(),d(`div`,x,[p[3]||=u(`div`,{class:`login-bg`,"aria-hidden":`true`},null,-1),u(`div`,S,[s(E,{class:`login-card`,title:`Sign in`},{default:l(()=>[s(T,{model:t.form,rules:t.rules,ref:`formRef`,onFinish:t.onFinish,layout:`vertical`},{default:l(()=>[s(b,{name:`username`,label:`Username`},{default:l(()=>[s(y,{value:t.form.username,"onUpdate:value":p[0]||=e=>t.form.username=e,placeholder:`Please enter username`,onKeyup:_(t.submit,[`enter`])},null,8,[`value`,`onKeyup`])]),_:1}),s(b,{name:`password`,label:`Password`},{default:l(()=>[s(C,{value:t.form.password,"onUpdate:value":p[1]||=e=>t.form.password=e,placeholder:`Please enter password`,onKeyup:_(t.submit,[`enter`])},null,8,[`value`,`onKeyup`])]),_:1}),s(b,null,{default:l(()=>[s(w,{type:`primary`,block:``,loading:t.loading,onClick:t.submit},{default:l(()=>[...p[2]||=[c(` Login `,-1)]]),_:1},8,[`loading`,`onClick`])]),_:1})]),_:1},8,[`model`,`rules`,`onFinish`])]),_:1})])])}var w=t(b,[[`render`,C],[`__scopeId`,`data-v-59ede451`]]);export{w as default};