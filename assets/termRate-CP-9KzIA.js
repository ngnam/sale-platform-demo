import"./EyeInvisibleOutlined-DG2xmprD.js";import{n as e,t}from"./_plugin-vue_export-helper-D22GYgA4.js";import{a as n,o as r}from"./input-DRvzqShS.js";import{t as i}from"./table-BoE131Mg.js";import{r as ee,t as te}from"./select-DfEOPWao.js";import{o as ne}from"./Col-BFMs_Fxy.js";import"./FolderOutlined-BkPqpAWN.js";import{t as re}from"./modal-D0AgzIlU.js";import"./checkbox-CDJjs0Nq.js";import{t as ie}from"./space-BuPMAf3f.js";import"./dropdown-BUREsQoH.js";import{n as ae,t as oe}from"./row-B-Sd1hj3.js";import"./UpOutlined-CkUro80v.js";import{t as se}from"./input-number-BSb5Nypy.js";import"./spin-BRviYb99.js";import{t as ce}from"./popconfirm-DrZZRqRZ.js";import{t as le}from"./switch-DIvgzgzZ.js";import{Cn as ue,Dn as a,En as o,Jn as s,Nn as c,Rn as l,Sn as de,Tn as u,Vn as d,Xn as f,bn as p,cn as fe,cr as pe,dr as m,gn as me,l as h,nr as g,wn as _,xn as v}from"./index-DsGbIOt6.js";import{t as y}from"./termRate-CiEhitJ4.js";import{t as b}from"./pricingVersion-Cd05uXeQ.js";import{t as x}from"./productPlan-C749lE6Z.js";const he=[{title:`No`,dataIndex:`index`,key:`index`,width:80},{title:`Pricing Version`,dataIndex:`pricingVersionId`,key:`pricingVersionId`,width:180},{title:`Plan Id`,dataIndex:`planId`,key:`planId`,width:160},{title:`Age`,dataIndex:`age`,key:`age`,width:90},{title:`Sex`,dataIndex:`sex`,key:`sex`,width:80},{title:`Smoker`,dataIndex:`smoker`,key:`smoker`,width:100},{title:`Term (months)`,dataIndex:`termMonths`,key:`termMonths`,width:120},{title:`Mode`,dataIndex:`mode`,key:`mode`,width:120},{title:`One Time`,dataIndex:`isOneTime`,key:`isOneTime`,width:100},{title:`Rate /1000`,dataIndex:`ratePer1000`,key:`ratePer1000`,width:200},{title:`TermYearsFactor`,dataIndex:`termYearsFactor`,key:`termYearsFactor`,width:140},{title:`Action`,key:`action`,fixed:`right`,width:160}];var ge={class:`term-rate-page`},_e={style:{display:`flex`,gap:`12px`,"align-items":`center`,"margin-bottom":`8px`}},ve={key:0},ye={key:1},be={style:{overflow:`auto`,border:`1px solid #f0f0f0`,padding:`8px`,"border-radius":`4px`}},xe={key:0},Se={key:1,style:{display:`flex`,"justify-content":`flex-end`,gap:`8px`,"align-items":`center`}},Ce={key:0},we={key:1,class:`text-muted`},Te={style:{overflow:`auto`,border:`1px solid #f0f0f0`,padding:`8px`,"border-radius":`4px`}},Ee={key:0},De={key:1,style:{display:`flex`,"justify-content":`flex-end`,gap:`8px`,"align-items":`center`}},Oe={key:0},ke={key:1,class:`text-muted`},Ae=t(a({__name:`index`,props:{pricingVersionId:{},planId:{}},setup(t){let a=g(!1),Ae=fe(),je=g([]),Me=g([]),S=g(!1),C=g(!1),w=t,T=w.pricingVersionId??``,E=w.planId??``;g(``);let D=g(!1),Ne=g(!1),O=g(!1),k=g(!1),A=g(null),j=g(1),M=g(20),Pe=g(0),N=g([]),P=g([]);function Fe(e){let t=Number(e??0);return isFinite(t)?(t/1e3).toFixed(5):`-`}let Ie={pricingVersionId:``,planId:``,age:void 0,sex:`M`,smoker:!1,termMonths:12,mode:`MONTHLY`,isOneTime:!1,ratePer1000:0,termYearsFactor:1,ageRange:[20,30]},F=g({...Ie}),I=g(),L=g(T||void 0),R=g(E||void 0),z=g(void 0),B=g(void 0),V=g(void 0),Le=p(()=>`Grid Preview - ${z.value?.toUpperCase()} (ages rows x term-month columns) ${B.value===``||B.value==null?``:`- Sex: ${B.value}`} ${V.value===void 0||V.value===``?``:V.value==1?`, Smocker`:`, NonSmocker`}`),Re=g([]),ze=g([]),Be=g(!1),Ve=g(!1);async function He(){if(R.value){Be.value=!0;try{let e=await b.getAll(R.value??``),t=e.data??e??[];Re.value=((Array.isArray(t)?t:t.items??t.Items??[])??[]).map(e=>({label:e.pricingVersionId??e.name??e.title??e.id,value:e.pricingVersionId??e.id}))}catch(e){console.error(e)}finally{Be.value=!1}}}async function Ue(){Ve.value=!0;try{let e=await x.getAll({page:1,pageSize:500}),t=e.data??e??[];ze.value=((Array.isArray(t)?t:t.items??t.Items??[])??[]).map(e=>({label:e.planId??e.planCode??e.name,value:e.planId??e.id}))}catch(e){console.error(e)}finally{Ve.value=!1}}function We(e){e&&He()}function Ge(e){e&&Ue()}let Ke=he,qe=p(()=>({current:j.value,pageSize:M.value,total:Pe.value,showSizeChanger:!0,showQuickJumper:!0})),Je=e=>`${e.pricingVersionId}::${e.planId}::${e.age}::${e.sex}::${e.smoker}::${e.termMonths}::${e.mode}`,Ye=p(()=>N.value.map((e,t)=>({...e,index:(j.value-1)*M.value+t+1}))),Xe=p(()=>({selectedRowKeys:P.value,onChange:e=>{P.value=e.slice()}})),Ze={pricingVersionId:[{required:!0,message:`PricingVersionId required`,trigger:`blur`}],planId:[{required:!0,message:`PlanId required`,trigger:`blur`}],age:[{required:!0,message:`Age required`,trigger:`change`}],termMonths:[{required:!0,message:`TermMonths required`,trigger:`change`}],ratePer1000:[{required:!0,message:`Rate required`,trigger:`change`}]};async function H(){D.value=!0;try{let e={pricingVersionId:L.value||T||void 0,planId:R.value||E||void 0,mode:z.value||void 0,sex:B.value||void 0,smoker:V.value===void 0||V.value===``?void 0:V.value===`true`||V.value===!0,page:j.value,pageSize:M.value},t=await y.query(e),n=t.data??t??null;n?(N.value=Array.from(n.items??n.Items??[]),Pe.value=n.totalItems??n.TotalItems??N.value.length,j.value=n.page??n.Page??j.value,M.value=n.pageSize??n.PageSize??M.value):(N.value=[],Pe.value=0)}catch(e){console.error(e),h.error(`Load term rates failed`)}finally{D.value=!1}}let Qe=e=>{e&&(j.value=e.current||j.value,M.value=e.pageSize||M.value),H()},$e=async()=>{k.value=!1,A.value=null,Object.assign(F.value,JSON.parse(JSON.stringify(Ie))),T&&(F.value.pricingVersionId=T),E&&(F.value.planId=E),O.value=!0,await c(),I.value?.resetFields?.(JSON.parse(JSON.stringify(Ie))),I.value?.clearValidate?.()};async function et(e){k.value=!0,A.value=Je(e);try{let t=await y.getDetail({pricingVersionId:e.pricingVersionId,planId:e.planId,age:e.age,sex:e.sex,smoker:e.smoker,termMonths:e.termMonths,mode:e.mode}),n=t.data??t;Object.assign(F.value,{pricingVersionId:n.pricingVersionId,planId:n.planId,age:n.age,sex:n.sex,smoker:n.smoker,termMonths:n.termMonths,mode:n.mode,isOneTime:n.isOneTime,ratePer1000:Number(n.ratePer1000??0),termYearsFactor:Number(n.termYearsFactor??1)}),O.value=!0,await c(),I.value?.clearValidate?.()}catch(e){console.error(e),h.error(`Load term rate detail failed`)}}async function tt(e){re.confirm({title:`Delete term rate`,content:`Delete rate for ${e.planId} age ${e.age} term ${e.termMonths} months?`,onOk:async()=>{try{await y.remove({pricingVersionId:e.pricingVersionId,planId:e.planId,age:e.age,sex:e.sex,smoker:e.smoker,termMonths:e.termMonths,mode:e.mode}),h.success(`Deleted`),P.value=P.value.filter(t=>t!==Je(e)),H()}catch(e){console.error(e),h.error(`Delete failed`)}}})}let nt=async()=>{P.value.length&&re.confirm({title:`Delete ${P.value.length} term rate(s)`,content:`Are you sure to delete selected rates?`,onOk:async()=>{try{for(let e of[...P.value]){let t=N.value.find(t=>`${t.pricingVersionId}::${t.planId}::${t.age}::${t.sex}::${t.smoker}::${t.termMonths}::${t.mode}`===e);if(!t)continue;await y.remove({pricingVersionId:t.pricingVersionId,planId:t.planId,age:t.age,sex:t.sex,smoker:t.smoker,termMonths:t.termMonths,mode:t.mode})}h.success(`Deleted selected`),P.value=[],j.value=1,H()}catch(e){console.error(e),h.error(`Delete failed`)}}})},rt=async()=>{try{await I.value?.validate?.()}catch{return}let e={pricingVersionId:(F.value.pricingVersionId??``).trim(),planId:(F.value.planId??``).trim(),age:Number(F.value.age??0),sex:F.value.sex??`M`,smoker:!!(F.value.smoker??!1),termMonths:Number(F.value.termMonths??0),mode:F.value.mode??`MONTHLY`,isOneTime:!!(F.value.isOneTime??!1),ratePer1000:Number(F.value.ratePer1000??0),termYearsFactor:Number(F.value.termYearsFactor??1)},t={ratePer1000:Number(F.value.ratePer1000??0),termYearsFactor:Number(F.value.termYearsFactor??1),mode:F.value.mode??void 0,isOneTime:F.value.isOneTime??void 0};Ne.value=!0;try{k.value&&A.value?(await y.update({pricingVersionId:F.value.pricingVersionId??``,planId:F.value.planId??``,age:Number(F.value.age??0),sex:F.value.sex??`M`,smoker:!!(F.value.smoker??!1),termMonths:Number(F.value.termMonths??0),mode:F.value.mode??`MONTHLY`},t),h.success(`Updated`)):(await y.create(e),h.success(`Created`)),O.value=!1,P.value=[],H()}catch(e){console.error(e),h.error(String(e?.response?.data?.message??`Save failed`))}finally{Ne.value=!1}},it=()=>{O.value=!1};l(async()=>{await H()});async function at(){if(F.value?.planId){S.value=!0;try{let e=await b.getAll(F.value?.planId??``),t=e.data??e??[];je.value=((Array.isArray(t)?t:t.items??t.Items??[])??[]).map(e=>({label:String(e.pricingVersionId??e.name??e.title??e.id??e.pricingVersionId),value:String(e.pricingVersionId??e.id??e.pricingVersionId)}))}catch(e){console.error(`loadPricingVersions`,e),h.error(`Failed to load pricing versions`)}finally{S.value=!1}}}async function ot(){C.value=!0;try{let e=await x.getAll({page:1,pageSize:200}),t=e.data??e??[];Me.value=((Array.isArray(t)?t:t.items??t.Items??[])??[]).map(e=>({label:String(e.planId??e.planCode??e.name??e.title??e.planId),value:String(e.planId??e.id??e.planId)}))}catch(e){console.error(`loadPlans`,e),h.error(`Failed to load plans`)}finally{C.value=!1}}function st(e){e&&at()}function ct(e){e&&ot()}async function lt(){j.value=1,await H()}let U=[12,24,36,48,60,72,84,96,108,120],W=[3,6,9,12,18,24,36,48,60,72,84,96,108,120],ut=p(()=>F?.value?.ageRange?.[0]??20),dt=p(()=>F?.value?.ageRange?.[1]??30),ft=p(()=>{let e=Number(ut.value??20),t=Number(dt.value??30),n=Math.max(0,Math.min(e,t)),r=Math.max(0,Math.max(e,t));return Array.from({length:r-n+1},(e,t)=>n+t)}),G=g(!1),pt=p(()=>{let e=[{title:`Age`,dataIndex:`age`,key:`age`,fixed:`left`,width:80}];return U.forEach(t=>e.push({title:`${t}m`,dataIndex:`M_${t}`,key:`M_${t}`,width:110})),e}),mt=p(()=>{let e=[{title:`Age`,dataIndex:`age`,key:`age`,fixed:`left`,width:80}];return W.forEach(t=>e.push({title:`${t}m`,dataIndex:`O_${t}`,key:`O_${t}`,width:110})),e}),ht=p(()=>Math.max(800,1+U.length*110)),gt=p(()=>Math.max(900,1+W.length*110)),K=g([]),q=g([]);function _t(e,t){return e.map(e=>{let n={};return t.forEach(e=>n[e]=null),{age:e,values:n}})}async function vt(){let e=L.value||T||null,t=R.value||E||null;if(!e||!t){h.warn(`Chọn Pricing Version và Plan để xem grid preview`);return}G.value=!0;try{let n=Array.isArray(N.value)?N.value:[];if(n.length>0&&n.length<ft.value.length*(U.length+W.length))try{let r=await y.query({pricingVersionId:e,planId:t,mode:z.value||void 0,sex:B.value||void 0,smoker:V.value===void 0||V.value===``?void 0:V.value===`true`||V.value===!0,page:1,pageSize:5e3}),i=r.data??r??{};n=Array.isArray(i.items??i)?i.items??i:[]}catch(e){console.warn(`fallback to loaded items for grid preview`,e)}let r=U.map(e=>`M_${e}`),i=W.map(e=>`O_${e}`);K.value=_t(ft.value,r),q.value=_t(ft.value,i);for(let e of n){let t=Number(e.age),n=e.mode===`ONE_TIME`?`O`:`M`,r=`${n}_${e.termMonths}`;if(n===`M`){let n=K.value.find(e=>e.age===t);n&&r in n.values&&(n.values[r]=e)}else{let n=q.value.find(e=>e.age===t);n&&r in n.values&&(n.values[r]=e)}}}catch(e){console.error(e),h.error(`Load grid preview thất bại`)}finally{G.value=!1}}let J=g(!1),Y=g({ratePer1000:0,termYearsFactor:1}),X=g(null),Z=g(null),Q=g(null),$=g(!1),yt=p(()=>{if(X.value==null||!Z.value||!Q.value)return`Edit cell`;let[,e]=Z.value.split(`_`);return`Edit - Age ${X.value} - ${e} months ${Q.value}`});function bt(e,t,n){X.value=e,Z.value=t,Q.value=n;let r=(n===`MONTHLY`?K.value:q.value).find(t=>t.age===e)?.values?.[t];Y.value.ratePer1000=r?.ratePer1000??0,Y.value.termYearsFactor=r?.termYearsFactor??1,J.value=!0}async function xt(){if(X.value==null||!Z.value||!Q.value){h.warn(`Missing context for cell`);return}$.value=!0;try{let[,e]=Z.value.split(`_`),t=Number(e),n={pricingVersionId:L.value||T||``,planId:R.value||E||``,age:X.value,sex:B.value??`M`,smoker:V.value??!1,termMonths:t,mode:Q.value,isOneTime:Q.value===`ONE_TIME`,ratePer1000:Number(Y.value.ratePer1000),termYearsFactor:Number(Y.value.termYearsFactor)};(Q.value===`MONTHLY`?K.value:q.value).find(e=>e.age===X.value)?.values?.[Z.value]?(await y.update({pricingVersionId:n.pricingVersionId,planId:n.planId,age:n.age,sex:n.sex,smoker:n.smoker,termMonths:n.termMonths,mode:n.mode},{ratePer1000:n.ratePer1000,termYearsFactor:n.termYearsFactor,isOneTime:n.isOneTime}),h.success(`Updated`)):(await y.create(n),h.success(`Created`)),await vt(),J.value=!1}catch(e){console.error(e),h.error(`Save failed`)}finally{$.value=!1}}async function St(){if(!L.value&&!R.value){h.warn(`Chọn Pricing Version hoặc Plan để xóa dữ liệu`);return}a.value=!0;try{await y.clear({pricingVersionId:L.value,planId:R.value}),h.success(`Cleared term rate data`),await H(),await vt()}catch(e){console.error(e),h.error(e?.message??`Clear failed`)}finally{a.value=!1}}return s([z,B,V],async()=>await lt()),(t,s)=>{let c=ee,l=te,p=e,fe=ce,h=ie,g=i,y=ne,b=se,x=r,he=n,w=re,T=ae,E=oe,A=le;return d(),_(`div`,ge,[s[42]||=v(`h2`,{class:`title`},`Term Rates (Term Months)`,-1),o(y,{class:`mb16`,"body-style":{padding:`12px`}},{default:f(()=>[v(`div`,_e,[o(c,{value:L.value,"onUpdate:value":s[0]||=e=>L.value=e,placeholder:`Pricing Version`,style:{width:`260px`},"show-search":``,allowClear:``,options:Re.value,loading:Be.value,onDropdownVisibleChange:We,onChange:lt},null,8,[`value`,`options`,`loading`]),o(c,{value:R.value,"onUpdate:value":s[1]||=e=>R.value=e,placeholder:`Plan`,style:{width:`260px`},"show-search":``,allowClear:``,options:ze.value,loading:Ve.value,onDropdownVisibleChange:Ge,onChange:lt},null,8,[`value`,`options`,`loading`]),o(c,{value:z.value,"onUpdate:value":s[2]||=e=>z.value=e,placeholder:`Mode`,style:{width:`140px`},allowClear:``},{default:f(()=>[o(l,{value:`MONTHLY`},{default:f(()=>[...s[21]||=[u(`MONTHLY`,-1)]]),_:1}),o(l,{value:`ONE_TIME`},{default:f(()=>[...s[22]||=[u(`ONE_TIME`,-1)]]),_:1})]),_:1},8,[`value`]),o(c,{value:B.value,"onUpdate:value":s[3]||=e=>B.value=e,placeholder:`Sex`,style:{width:`100px`},allowClear:``},{default:f(()=>[o(l,{value:`M`},{default:f(()=>[...s[23]||=[u(`M`,-1)]]),_:1}),o(l,{value:`F`},{default:f(()=>[...s[24]||=[u(`F`,-1)]]),_:1})]),_:1},8,[`value`]),o(c,{value:V.value,"onUpdate:value":s[4]||=e=>V.value=e,placeholder:`Smoker`,style:{width:`120px`},allowClear:``},{default:f(()=>[o(l,{value:``},{default:f(()=>[...s[25]||=[u(`All`,-1)]]),_:1}),o(l,{value:!0},{default:f(()=>[...s[26]||=[u(`Smoker`,-1)]]),_:1}),o(l,{value:!1},{default:f(()=>[...s[27]||=[u(`Non-Smoker`,-1)]]),_:1})]),_:1},8,[`value`]),o(p,{type:`primary`,onClick:$e},{default:f(()=>[...s[28]||=[u(`Create Rate`,-1)]]),_:1}),o(p,{danger:``,disabled:!P.value.length,onClick:nt},{default:f(()=>[...s[29]||=[u(`Delete Selected`,-1)]]),_:1},8,[`disabled`]),o(p,{loading:D.value,onClick:H},{default:f(()=>[...s[30]||=[u(`Refresh`,-1)]]),_:1},8,[`loading`]),o(p,{type:`primary`,onClick:s[5]||=()=>pe(Ae).push({name:`TermRateSeed`})},{default:f(()=>[...s[31]||=[u(`Create seeder`,-1)]]),_:1}),o(p,{loading:G.value,onClick:vt},{default:f(()=>[...s[32]||=[u(`Load Grid Preview`,-1)]]),_:1},8,[`loading`,`onClick`]),o(fe,{title:`Xóa toàn bộ term rate cho Pricing Version / Plan đang chọn?`,"ok-text":`Yes`,"cancel-text":`No`,onConfirm:St},{default:f(()=>[o(p,{danger:``,disabled:!L.value&&!R.value,loading:a.value},{default:f(()=>[...s[33]||=[u(`Clear`,-1)]]),_:1},8,[`disabled`,`loading`])]),_:1})]),o(g,{columns:pe(Ke),dataSource:Ye.value,loading:D.value,pagination:qe.value,rowKey:Je,rowSelection:Xe.value,scroll:{x:1400,y:500},onChange:Qe},{bodyCell:f(({column:e,record:t})=>[e.key===`action`?(d(),de(h,{key:0,style:{"justify-content":`flex-end`,width:`100%`}},{default:f(()=>[o(p,{size:`small`,onClick:()=>et(t)},{default:f(()=>[...s[34]||=[u(`Edit`,-1)]]),_:1},8,[`onClick`]),o(fe,{placement:`bottom`,title:`Delete this rate?`,onConfirm:()=>tt(t)},{default:f(()=>[o(p,{size:`small`,danger:``},{default:f(()=>[...s[35]||=[u(`Delete`,-1)]]),_:1})]),_:1},8,[`onConfirm`])]),_:2},1024)):(d(),_(me,{key:1},[e.dataIndex===`ratePer1000`?(d(),_(`span`,ve,m(Fe(t[e.dataIndex])),1)):(d(),_(`span`,ye,m(t[e.dataIndex]),1))],64))]),_:1},8,[`columns`,`dataSource`,`loading`,`pagination`,`rowSelection`])]),_:1}),z.value==`MONTHLY`?(d(),de(y,{key:0,title:Le.value,class:`mb16`},{default:f(()=>[v(`div`,be,[o(g,{columns:pt.value,dataSource:K.value,rowKey:e=>`age-${e.age}`,pagination:!1,bordered:``,size:`small`,loading:G.value,scroll:{x:ht.value,y:500}},{bodyCell:f(({column:e,record:t})=>[e.key===`age`?(d(),_(`strong`,xe,m(t.age),1)):(d(),_(`div`,Se,[t.values[e.key]==null?(d(),_(`span`,we,`-`)):(d(),_(`span`,Ce,m(Fe(t.values[e.key].ratePer1000)),1)),o(p,{type:`link`,size:`small`,onClick:n=>bt(t.age,e.key,`MONTHLY`)},{default:f(()=>[...s[36]||=[u(`Edit`,-1)]]),_:1},8,[`onClick`])]))]),_:1},8,[`columns`,`dataSource`,`rowKey`,`loading`,`scroll`])])]),_:1},8,[`title`])):ue(``,!0),z.value==`ONE_TIME`?(d(),de(y,{key:1,title:Le.value,class:`mb16`},{default:f(()=>[v(`div`,Te,[o(g,{columns:mt.value,dataSource:q.value,rowKey:e=>`age-${e.age}`,pagination:!1,bordered:``,size:`small`,loading:G.value,scroll:{x:gt.value,y:500}},{bodyCell:f(({column:e,record:t})=>[e.key===`age`?(d(),_(`strong`,Ee,m(t.age),1)):(d(),_(`div`,De,[t.values[e.key]==null?(d(),_(`span`,ke,`-`)):(d(),_(`span`,Oe,m(Fe(t.values[e.key].ratePer1000)),1)),o(p,{type:`link`,size:`small`,onClick:n=>bt(t.age,e.key,`ONE_TIME`)},{default:f(()=>[...s[37]||=[u(`Edit`,-1)]]),_:1},8,[`onClick`])]))]),_:1},8,[`columns`,`dataSource`,`rowKey`,`loading`,`scroll`])])]),_:1},8,[`title`])):ue(``,!0),o(w,{open:J.value,"onUpdate:open":s[8]||=e=>J.value=e,title:yt.value,onOk:xt,onCancel:s[9]||=e=>J.value=!1,confirmLoading:$.value},{default:f(()=>[o(he,{layout:`vertical`},{default:f(()=>[o(x,{label:`Rate per 1000`},{default:f(()=>[o(b,{value:Y.value.ratePer1000,"onUpdate:value":s[6]||=e=>Y.value.ratePer1000=e,style:{width:`100%`},step:.01},null,8,[`value`])]),_:1}),o(x,{label:`TermYearsFactor`},{default:f(()=>[o(b,{value:Y.value.termYearsFactor,"onUpdate:value":s[7]||=e=>Y.value.termYearsFactor=e,style:{width:`100%`},step:.01},null,8,[`value`])]),_:1})]),_:1})]),_:1},8,[`open`,`title`,`confirmLoading`]),o(w,{open:O.value,"onUpdate:open":s[20]||=e=>O.value=e,title:k.value?`Edit Term Rate`:`Create Term Rate`,onOk:rt,onCancel:it,confirmLoading:Ne.value,width:`760`,centered:``},{default:f(()=>[o(he,{ref_key:`formRef`,ref:I,model:F.value,rules:Ze,layout:`vertical`},{default:f(()=>[o(E,{gutter:12},{default:f(()=>[o(T,{span:12},{default:f(()=>[o(x,{label:`Plan Id`,name:`planId`,rules:k.value?[]:[{required:!0,message:`PlanId required`}]},{default:f(()=>[o(c,{value:F.value.planId,"onUpdate:value":s[10]||=e=>F.value.planId=e,placeholder:`Select plan`,loading:C.value,options:Me.value,"show-search":``,allowClear:``,onDropdownVisibleChange:ct},null,8,[`value`,`loading`,`options`])]),_:1},8,[`rules`])]),_:1}),o(T,{span:12},{default:f(()=>[o(x,{label:`Pricing Version Id`,name:`pricingVersionId`,rules:k.value?[]:[{required:!0,message:`PricingVersionId required`}]},{default:f(()=>[o(c,{value:F.value.pricingVersionId,"onUpdate:value":s[11]||=e=>F.value.pricingVersionId=e,placeholder:`Select pricing version`,loading:S.value,options:je.value,"show-search":``,allowClear:``,onDropdownVisibleChange:st,disabled:!F.value.planId},null,8,[`value`,`loading`,`options`,`disabled`])]),_:1},8,[`rules`])]),_:1})]),_:1}),o(E,{gutter:12},{default:f(()=>[o(T,{span:8},{default:f(()=>[o(x,{label:`Age`,name:`age`,rules:[{required:!0,message:`Age required`}]},{default:f(()=>[o(b,{value:F.value.age,"onUpdate:value":s[12]||=e=>F.value.age=e,style:{width:`100%`},min:`0`},null,8,[`value`])]),_:1})]),_:1}),o(T,{span:8},{default:f(()=>[o(x,{label:`Sex`,name:`sex`,rules:[{required:!0,message:`Sex required`}]},{default:f(()=>[o(c,{value:F.value.sex,"onUpdate:value":s[13]||=e=>F.value.sex=e,placeholder:`Sex`},{default:f(()=>[o(l,{value:`M`},{default:f(()=>[...s[38]||=[u(`M`,-1)]]),_:1}),o(l,{value:`F`},{default:f(()=>[...s[39]||=[u(`F`,-1)]]),_:1})]),_:1},8,[`value`])]),_:1})]),_:1}),o(T,{span:8},{default:f(()=>[o(x,{label:`Smoker`,name:`smoker`},{default:f(()=>[o(A,{checked:F.value.smoker,"onUpdate:checked":s[14]||=e=>F.value.smoker=e},null,8,[`checked`])]),_:1})]),_:1})]),_:1}),o(E,{gutter:12},{default:f(()=>[o(T,{span:8},{default:f(()=>[o(x,{label:`Term Months`,name:`termMonths`,rules:[{required:!0,message:`TermMonths required`}]},{default:f(()=>[o(b,{value:F.value.termMonths,"onUpdate:value":s[15]||=e=>F.value.termMonths=e,style:{width:`100%`},min:`1`},null,8,[`value`])]),_:1})]),_:1}),o(T,{span:8},{default:f(()=>[o(x,{label:`Mode`,name:`mode`},{default:f(()=>[o(c,{value:F.value.mode,"onUpdate:value":s[16]||=e=>F.value.mode=e,placeholder:`Mode`},{default:f(()=>[o(l,{value:`MONTHLY`},{default:f(()=>[...s[40]||=[u(`MONTHLY`,-1)]]),_:1}),o(l,{value:`ONE_TIME`},{default:f(()=>[...s[41]||=[u(`ONE_TIME`,-1)]]),_:1})]),_:1},8,[`value`])]),_:1})]),_:1}),o(T,{span:8},{default:f(()=>[o(x,{label:`Is One Time`,name:`isOneTime`},{default:f(()=>[o(A,{checked:F.value.isOneTime,"onUpdate:checked":s[17]||=e=>F.value.isOneTime=e},null,8,[`checked`])]),_:1})]),_:1})]),_:1}),o(E,{gutter:12},{default:f(()=>[o(T,{span:12},{default:f(()=>[o(x,{label:`Rate per 1000`,name:`ratePer1000`,rules:[{required:!0,message:`Rate required`}]},{default:f(()=>[o(b,{value:F.value.ratePer1000,"onUpdate:value":s[18]||=e=>F.value.ratePer1000=e,style:{width:`100%`},step:1e-4},null,8,[`value`])]),_:1})]),_:1}),o(T,{span:12},{default:f(()=>[o(x,{label:`Term Years Factor`,name:`termYearsFactor`},{default:f(()=>[o(b,{value:F.value.termYearsFactor,"onUpdate:value":s[19]||=e=>F.value.termYearsFactor=e,style:{width:`100%`},step:.01},null,8,[`value`])]),_:1})]),_:1})]),_:1})]),_:1},8,[`model`])]),_:1},8,[`open`,`title`,`confirmLoading`])])}}}),[[`__scopeId`,`data-v-dd6a3ce5`]]);export{Ae as default};